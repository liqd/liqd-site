{% extends "base.html" %}
{% load static wagtailcore_tags wagtailimages_tags wagtailembeds_tags i18n bleach_tags %}

{% block fb_meta_tags %}
    <meta property="og:type" content="article" />
    <meta property="og:title" content="{{ page.translated_title }}" />
    {% with description=page.translated_intro|richtext %}
    <meta property="og:description" content="{{ description|bleach }}" />
    {% endwith %}
    <meta property="og:image" content="{{ request.get_host }}{% static 'images/liquid_default.jpg' %}" />
{% endblock %}

{% block content %}
<div class="blog_page_title_area">
    <div class="container">
        <div class="contentwrapper text">
            <div class="blog_page-header-content">
                <h1 class="blog_page_title">
                {{ self.translated_title }}
                </h1>
                <h2 class="blog_page_subtitle">
                    {{ self.translated_subtitle }}
                </h2>
            </div>
        </div>
    </div>
</div>

<div class="container">
    <div class="contentwrapper text">
        <div class="blog_page-metadata-content">
            {% if self.author %}
            <div class="text">{% trans 'by' %} {{ self.author}}</div>
            {% endif %}
            <div class="text">{{ self.date }}</div>
        </div>
    </div>
</div>


{% for block in self.body %}

    {% if block.block_type == 'heading' %}
    <div class="blog_page_block_heading">
        <div class="container">
            <div class="contentwrapper text">
                <h2>{{ block.value }}</h2>
            </div>
        </div>
    </div>
    {% endif %}

    {% if block.block_type == 'image' %}
    <div class="blog_page_block_image">
        <div class="container">
            <div class="contentwrapper text">
                {% image block.value fill-800x600 as my_image %}
                <img class="photo" src="{{ my_image.url }}" alt="{{ my_image.alt }}">
            </div>
        </div>
    </div>
    {% endif %}

    {% if block.block_type == 'video' %}
    <div class="blog_page_block_image">
        <div class="container">
            <div class="contentwrapper text">
                <div class="embed-responsive embed-responsive-16by9">
                {{ block.value }}
                </div>
            </div>
        </div>
    </div>
    {% endif %}

    {% if block.block_type == 'paragraph' %}
    <div class="blog_page_block_paragraph">
        <div class="container">
            <div class="contentwrapper text">
                <div>{{ block.value }}</div>
            </div>
        </div>
    </div>

    {% endif %}
{% endfor %}

{% endblock %}


